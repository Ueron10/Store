<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="StoreProgram.Pages.StockManagementPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Manajemen Stok">
    
    <Grid RowDefinitions="Auto,*">
        
        <!-- Header with Search and Add Button -->
        <Frame Grid.Row="0" 
               BackgroundColor="White" 
               CornerRadius="0" 
               Padding="20" 
               HasShadow="True" 
               Margin="0,0,0,10">
            
            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                
                <!-- Search Bar -->
                <Frame Grid.Column="0" 
                       BackgroundColor="{StaticResource Gray100}" 
                       CornerRadius="10" 
                       Padding="0" 
                       HasShadow="False">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Label Grid.Column="0" 
                               Text="🔍" 
                               FontSize="18" 
                               VerticalOptions="Center" 
                               Margin="15,0,5,0"/>
                        <Entry Grid.Column="1" 
                               x:Name="SearchEntry" 
                               Placeholder="Cari produk..." 
                               BackgroundColor="Transparent" 
                               TextChanged="OnSearchTextChanged"/>
                        <Button Grid.Column="2" 
                                Text="✕" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="16" 
                                Clicked="OnClearSearchClicked" 
                                IsVisible="False" 
                                x:Name="ClearSearchButton"/>
                    </Grid>
                </Frame>
                
                <!-- Add Product Button -->
                <Button Grid.Column="1" 
                        Text="+ Tambah" 
                        BackgroundColor="{StaticResource Primary}" 
                        TextColor="White" 
                        CornerRadius="10" 
                        HeightRequest="50" 
                        WidthRequest="100" 
                        FontAttributes="Bold" 
                        Clicked="OnAddProductClicked"/>
                
            </Grid>
            
        </Frame>
        
        <!-- Stock List -->
        <ScrollView Grid.Row="1" Padding="20,0">
            <StackLayout x:Name="StockContainer" Spacing="15">
                
                <!-- Stock Item 1 -->
                <Frame BackgroundColor="White" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <Grid ColumnDefinitions="60,*,Auto,Auto" ColumnSpacing="15">
                        
                        <!-- Product Image/Icon -->
                        <Frame Grid.Column="0" 
                               BackgroundColor="{StaticResource Primary}" 
                               CornerRadius="10" 
                               Padding="0" 
                               HasShadow="False" 
                               WidthRequest="60" 
                               HeightRequest="60">
                            <Label Text="🍜" 
                                   FontSize="30" 
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Center"/>
                        </Frame>
                        
                        <!-- Product Info -->
                        <StackLayout Grid.Column="1">
                            <Label Text="Indomie Goreng" 
                                   FontSize="16" 
                                   FontAttributes="Bold" 
                                   TextColor="{StaticResource Gray900}"/>
                            <Label Text="Rp 3.000 per pcs" 
                                   FontSize="14" 
                                   TextColor="{StaticResource Gray600}"/>
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Stok:" 
                                       FontSize="12" 
                                       TextColor="{StaticResource Gray600}"/>
                                <Label Text="5 pcs" 
                                       FontSize="12" 
                                       FontAttributes="Bold" 
                                       TextColor="Red"/>
                            </StackLayout>
                            <Label Text="Expired: 15 Nov 2024" 
                                   FontSize="10" 
                                   TextColor="{StaticResource Gray500}"/>
                        </StackLayout>
                        
                        <!-- Stock Status Badge -->
                        <Frame Grid.Column="2" 
                               BackgroundColor="Red" 
                               CornerRadius="15" 
                               Padding="8,4" 
                               HasShadow="False">
                            <Label Text="MENIPIS" 
                                   FontSize="10" 
                                   TextColor="White" 
                                   FontAttributes="Bold"/>
                        </Frame>
                        
                        <!-- Actions Menu -->
                        <Button Grid.Column="3" 
                                Text="⋮" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="20" 
                                Clicked="OnProductMenuClicked"/>
                        
                    </Grid>
                </Frame>
                
                <!-- Stock Item 2 -->
                <Frame BackgroundColor="White" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <Grid ColumnDefinitions="60,*,Auto,Auto" ColumnSpacing="15">
                        
                        <Frame Grid.Column="0" 
                               BackgroundColor="Blue" 
                               CornerRadius="10" 
                               Padding="0" 
                               HasShadow="False" 
                               WidthRequest="60" 
                               HeightRequest="60">
                            <Label Text="💧" 
                                   FontSize="30" 
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Center"/>
                        </Frame>
                        
                        <StackLayout Grid.Column="1">
                            <Label Text="Aqua 600ml" 
                                   FontSize="16" 
                                   FontAttributes="Bold" 
                                   TextColor="{StaticResource Gray900}"/>
                            <Label Text="Rp 4.000 per btl" 
                                   FontSize="14" 
                                   TextColor="{StaticResource Gray600}"/>
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Stok:" 
                                       FontSize="12" 
                                       TextColor="{StaticResource Gray600}"/>
                                <Label Text="3 btl" 
                                       FontSize="12" 
                                       FontAttributes="Bold" 
                                       TextColor="Red"/>
                            </StackLayout>
                            <Label Text="Expired: 20 Des 2024" 
                                   FontSize="10" 
                                   TextColor="{StaticResource Gray500}"/>
                        </StackLayout>
                        
                        <Frame Grid.Column="2" 
                               BackgroundColor="Red" 
                               CornerRadius="15" 
                               Padding="8,4" 
                               HasShadow="False">
                            <Label Text="KRITIS" 
                                   FontSize="10" 
                                   TextColor="White" 
                                   FontAttributes="Bold"/>
                        </Frame>
                        
                        <Button Grid.Column="3" 
                                Text="⋮" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="20" 
                                Clicked="OnProductMenuClicked"/>
                        
                    </Grid>
                </Frame>
                
                <!-- Stock Item 3 -->
                <Frame BackgroundColor="White" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <Grid ColumnDefinitions="60,*,Auto,Auto" ColumnSpacing="15">
                        
                        <Frame Grid.Column="0" 
                               BackgroundColor="Orange" 
                               CornerRadius="10" 
                               Padding="0" 
                               HasShadow="False" 
                               WidthRequest="60" 
                               HeightRequest="60">
                            <Label Text="🍞" 
                                   FontSize="30" 
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Center"/>
                        </Frame>
                        
                        <StackLayout Grid.Column="1">
                            <Label Text="Roti Tawar" 
                                   FontSize="16" 
                                   FontAttributes="Bold" 
                                   TextColor="{StaticResource Gray900}"/>
                            <Label Text="Rp 12.000 per pak" 
                                   FontSize="14" 
                                   TextColor="{StaticResource Gray600}"/>
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Stok:" 
                                       FontSize="12" 
                                       TextColor="{StaticResource Gray600}"/>
                                <Label Text="8 pak" 
                                       FontSize="12" 
                                       FontAttributes="Bold" 
                                       TextColor="Orange"/>
                            </StackLayout>
                            <Label Text="Expired: 17 Okt 2024" 
                                   FontSize="10" 
                                   TextColor="Red" 
                                   FontAttributes="Bold"/>
                        </StackLayout>
                        
                        <Frame Grid.Column="2" 
                               BackgroundColor="Red" 
                               CornerRadius="15" 
                               Padding="8,4" 
                               HasShadow="False">
                            <Label Text="EXPIRED" 
                                   FontSize="10" 
                                   TextColor="White" 
                                   FontAttributes="Bold"/>
                        </Frame>
                        
                        <Button Grid.Column="3" 
                                Text="⋮" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="20" 
                                Clicked="OnProductMenuClicked"/>
                        
                    </Grid>
                </Frame>
                
                <!-- Stock Item 4 -->
                <Frame BackgroundColor="White" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <Grid ColumnDefinitions="60,*,Auto,Auto" ColumnSpacing="15">
                        
                        <Frame Grid.Column="0" 
                               BackgroundColor="Green" 
                               CornerRadius="10" 
                               Padding="0" 
                               HasShadow="False" 
                               WidthRequest="60" 
                               HeightRequest="60">
                            <Label Text="🥛" 
                                   FontSize="30" 
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Center"/>
                        </Frame>
                        
                        <StackLayout Grid.Column="1">
                            <Label Text="Susu Ultra" 
                                   FontSize="16" 
                                   FontAttributes="Bold" 
                                   TextColor="{StaticResource Gray900}"/>
                            <Label Text="Rp 8.500 per kotak" 
                                   FontSize="14" 
                                   TextColor="{StaticResource Gray600}"/>
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Stok:" 
                                       FontSize="12" 
                                       TextColor="{StaticResource Gray600}"/>
                                <Label Text="25 kotak" 
                                       FontSize="12" 
                                       FontAttributes="Bold" 
                                       TextColor="Green"/>
                            </StackLayout>
                            <Label Text="Expired: 30 Nov 2024" 
                                   FontSize="10" 
                                   TextColor="{StaticResource Gray500}"/>
                        </StackLayout>
                        
                        <Frame Grid.Column="2" 
                               BackgroundColor="Green" 
                               CornerRadius="15" 
                               Padding="8,4" 
                               HasShadow="False">
                            <Label Text="AMAN" 
                                   FontSize="10" 
                                   TextColor="White" 
                                   FontAttributes="Bold"/>
                        </Frame>
                        
                        <Button Grid.Column="3" 
                                Text="⋮" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="20" 
                                Clicked="OnProductMenuClicked"/>
                        
                    </Grid>
                </Frame>
                
                <!-- Stock Item 5 -->
                <Frame BackgroundColor="White" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <Grid ColumnDefinitions="60,*,Auto,Auto" ColumnSpacing="15">
                        
                        <Frame Grid.Column="0" 
                               BackgroundColor="Brown" 
                               CornerRadius="10" 
                               Padding="0" 
                               HasShadow="False" 
                               WidthRequest="60" 
                               HeightRequest="60">
                            <Label Text="☕" 
                                   FontSize="30" 
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Center"/>
                        </Frame>
                        
                        <StackLayout Grid.Column="1">
                            <Label Text="Kopi Sachet" 
                                   FontSize="16" 
                                   FontAttributes="Bold" 
                                   TextColor="{StaticResource Gray900}"/>
                            <Label Text="Rp 2.500 per sachet" 
                                   FontSize="14" 
                                   TextColor="{StaticResource Gray600}"/>
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Stok:" 
                                       FontSize="12" 
                                       TextColor="{StaticResource Gray600}"/>
                                <Label Text="50 sachet" 
                                       FontSize="12" 
                                       FontAttributes="Bold" 
                                       TextColor="Green"/>
                            </StackLayout>
                            <Label Text="Expired: 15 Jan 2025" 
                                   FontSize="10" 
                                   TextColor="{StaticResource Gray500}"/>
                        </StackLayout>
                        
                        <Frame Grid.Column="2" 
                               BackgroundColor="Green" 
                               CornerRadius="15" 
                               Padding="8,4" 
                               HasShadow="False">
                            <Label Text="AMAN" 
                                   FontSize="10" 
                                   TextColor="White" 
                                   FontAttributes="Bold"/>
                        </Frame>
                        
                        <Button Grid.Column="3" 
                                Text="⋮" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Gray600}" 
                                FontSize="20" 
                                Clicked="OnProductMenuClicked"/>
                        
                    </Grid>
                </Frame>
                
            </StackLayout>
        </ScrollView>
        
    </Grid>
    
</ContentPage>