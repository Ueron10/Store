<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="StoreProgram.Pages.OwnerDashboardPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Dashboard Pemilik">
    
    <ScrollView Padding="20">
        <StackLayout Spacing="20">
            
            <!-- Header -->
            <Border StrokeThickness="0" Padding="20" StrokeShape="RoundRectangle 18">
                <Border.Background>
                    <LinearGradientBrush EndPoint="1,0">
                        <GradientStop Color="{StaticResource Primary}" Offset="0" />
                        <GradientStop Color="{StaticResource Secondary}" Offset="1" />
                    </LinearGradientBrush>
                </Border.Background>
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                    <StackLayout Grid.Column="0" Spacing="2">
                        <Label Text="TOKO YOLAN" FontSize="12" TextColor="White" Opacity="0.95" />
                        <Label Text="Dashboard Pemilik" FontSize="20" FontAttributes="Bold" TextColor="White"/>
                        <Label x:Name="DateLabel" 
                               Text="Selasa, 15 Oktober 2024" 
                               FontSize="12" 
                               TextColor="White" 
                               Opacity="0.9"/>
                    </StackLayout>
                    <Button Grid.Column="1" 
                            Text="âš™ï¸" 
                            BackgroundColor="Transparent" 
                            TextColor="White" 
                            FontSize="22" 
                            Clicked="OnSettingsClicked"/>
                </Grid>
            </Border>
            
            <!-- Quick Stats -->
            <Grid ColumnDefinitions="*,*" 
                  RowDefinitions="*,*" 
                  ColumnSpacing="10" 
                  RowSpacing="10">
                
                <!-- Total Penjualan Hari Ini -->
                <Frame Grid.Row="0" 
                       Grid.Column="0" 
                       BackgroundColor="{StaticResource Success}" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <StackLayout>
                        <Label Text="ðŸ’°" 
                               FontSize="24" 
                               HorizontalOptions="Center"/>
                        <Label Text="Penjualan Hari Ini" 
                               FontSize="12" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                        <Label x:Name="OwnerDailySalesLabel"
                               Text="Rp 0" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>
                
                <!-- Keuntungan -->
                <Frame Grid.Row="0" 
                       Grid.Column="1" 
                       BackgroundColor="{StaticResource Warning}" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <StackLayout>
                        <Label Text="ðŸ“ˆ" 
                               FontSize="24" 
                               HorizontalOptions="Center"/>
                        <Label Text="Keuntungan" 
                               FontSize="12" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                        <Label x:Name="OwnerDailyProfitLabel"
                               Text="Rp 0" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>
                
                <!-- Total Produk -->
                <Frame Grid.Row="1" 
                       Grid.Column="0" 
                       BackgroundColor="{StaticResource Info}" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <StackLayout>
                        <Label Text="ðŸ“¦" 
                               FontSize="24" 
                               HorizontalOptions="Center"/>
                        <Label Text="Total Produk" 
                               FontSize="12" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                        <Label x:Name="OwnerTotalProductsLabel"
                               Text="0 Item" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>
                
                <!-- Transaksi Hari Ini -->
                <Frame Grid.Row="1" 
                       Grid.Column="1" 
                       BackgroundColor="{StaticResource Secondary}" 
                       CornerRadius="10" 
                       Padding="15" 
                       HasShadow="True">
                    <StackLayout>
                        <Label Text="ðŸ§¾" 
                               FontSize="24" 
                               HorizontalOptions="Center"/>
                        <Label Text="Transaksi Hari Ini" 
                               FontSize="12" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                        <Label x:Name="OwnerDailyTransactionsLabel"
                               Text="0 Transaksi" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="White" 
                               HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>
                
            </Grid>
            
            <!-- Peringatan Stok -->
            <Frame BackgroundColor="{StaticResource CardBackground}" 
                   CornerRadius="16" 
                   Padding="16" 
                   HasShadow="True">
                <StackLayout Spacing="10">
                    <Label Text="âš ï¸ Peringatan Stok" 
                           FontSize="16" 
                           FontAttributes="Bold" 
                           TextColor="Red"/>
                    
                    <StackLayout x:Name="OwnerStockAlertsContainer" Spacing="5" />
                    
                    <Button Text="Lihat Selengkapnya" 
                            BackgroundColor="Red" 
                            TextColor="White" 
                            CornerRadius="5" 
                            FontSize="12" 
                            HeightRequest="35" 
                            Clicked="OnViewStockAlertsClicked"/>
                </StackLayout>
            </Frame>
            
            <!-- Transaksi Terbaru -->
            <Frame BackgroundColor="White" 
                   CornerRadius="10" 
                   Padding="15" 
                   HasShadow="True">
                <StackLayout Spacing="15">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0" 
                               Text="ðŸ’³ Transaksi Terbaru" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="{StaticResource Gray900}"/>
                        <Button Grid.Column="1" 
                                Text="Lihat Semua" 
                                BackgroundColor="Transparent" 
                                TextColor="{StaticResource Primary}" 
                                FontSize="12" 
                                Clicked="OnViewAllTransactionsClicked"/>
                    </Grid>
                    
                    <!-- Transaction List -->
                    <StackLayout x:Name="OwnerRecentTransactionsContainer" Spacing="10" />
                </StackLayout>
            </Frame>
            
            <!-- Quick Actions -->
            <Frame BackgroundColor="White" 
                   CornerRadius="10" 
                   Padding="15" 
                   HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="ðŸš€ Aksi Cepat" 
                           FontSize="16" 
                           FontAttributes="Bold" 
                           TextColor="{StaticResource Gray900}"/>
                    
                    <Grid ColumnDefinitions="*,*" 
                          ColumnSpacing="10">
                        
                        <Button Grid.Column="0" 
                                Text="ðŸ“Š Laporan" 
                                BackgroundColor="{StaticResource Primary}" 
                                TextColor="White" 
                                CornerRadius="10" 
                                HeightRequest="45" 
                                Clicked="OnReportsClicked"/>
                        
                        <Button Grid.Column="1" 
                                Text="ðŸ“¦ Kelola Stok" 
                                BackgroundColor="{StaticResource Secondary}" 
                                TextColor="White" 
                                CornerRadius="10" 
                                HeightRequest="45" 
                                Clicked="OnManageStockClicked"/>
                        
                    </Grid>
                    
                    <Grid ColumnDefinitions="*,*" 
                          ColumnSpacing="10">
                        
                        <Button Grid.Column="0" 
                                Text="ðŸ’° Keuangan" 
                                BackgroundColor="Green" 
                                TextColor="White" 
                                CornerRadius="10" 
                                HeightRequest="45" 
                                Clicked="OnFinancialClicked"/>
                        
                        <Button Grid.Column="1" 
                                Text="ðŸ”” Notifikasi" 
                                BackgroundColor="Orange" 
                                TextColor="White" 
                                CornerRadius="10" 
                                HeightRequest="45" 
                                Clicked="OnNotificationsClicked"/>
                        
                    </Grid>
                    
                    <Button Text="ðŸ“‹ Stok Opname Semua Produk" 
                            BackgroundColor="{StaticResource Gray200}" 
                            TextColor="{StaticResource Gray900}" 
                            CornerRadius="10" 
                            HeightRequest="45" 
                            Clicked="OnStockOpnameClicked"/>
                </StackLayout>
            </Frame>
            
        </StackLayout>
    </ScrollView>
    
</ContentPage>